<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <title>Booking</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <link rel="stylesheet" href="css/user/register.css">

    <script>
        $(document).ready(function () {

            $("#myToast").toast("show");

        });

        function registeredSuccesfull(){
            if(repeatemail){
                alert("User already exist")   
            }else{
                alert("User Registered Succesfully")
            }
        }

        // input date
        // function correctDetails() {
        //     var birthDate = document.getElementById("dateofbirth").value
        //     if (birthDate > 110) {
        //         alert("Not eglible for vaccine")
        //     } else if (birthDate > 18) {
        //         fetch("/registeruserdetails", {
        //             method: "POST",
        //             headers: { 'Content-Type': 'application/json' },
        //             body: JSON.stringify(Object.fromEntries(formData.entries()))
        //         }).then(res => {
        //             console.log("Request complete! response:", res);
        //         });
        //         alert("succesfully registered")
        //     }else{
        //         alert("not eligble for vaccine")
        //     }
        // }


    </script>
</head>


<div class="container mt-5" style="width: 760px;  background-image: linear-gradient(to left, #353d44, #18191a);
color: white; box-shadow: 14px 0px 10px 0px #000; margin-top: 50px;">
    <form name="myform" id="myform" class="form-group" action="/registeruserdetails" method="post"
    onsubmit="registeredSuccesfull()">
        <h2 style="text-align:center; font-weight:bold; font-size:25px">User Registration Form</h2>
        <div class="row ">
            <div class="col-md-12">
                <p>Person ID will be verified while Injecting Vaccine. Please Kindly Provide a correct information.</p>

                <% if(repeatcitizen) { %>
                    <div class="toast" id="myToast">
                        <div class="toast-body text-danger">
                            A User with this Aadhar Number already exists
                        </div>
                    </div>
                    <%} %>
                            <% if (repeatemail) { %>
                                <div class="toast" id="myToast">
                                    <div class="toast-body text-danger">
                                        A User with this email already exists
                                    </div>
                                </div>
                                <% } else { %>
                                    <script>
                                        alert("Registerd Succesfully")
                                    </script>
                                
                                <% } %>
                                <label for="inputname">Aadhaar Card No </label>
                                <input type="text" name="citizenshipid" class="form-control" placeholder="Aadhaar No"
                                    id="citizenship" required pattern="[0-9]{12}"
                                    title="Aadhaar Number must contain 12 digits only!">
            </div>
            <div class="col-md-6">
                <label for="inputname">First name </label>
                <input type="text" class="form-control" name="firstname" placeholder="First Name" required
                    pattern="[A-Za-z_]+" title="Name should only contain Letters e.g. John">
            </div>


            <div class="col-md-6">
                <label for="inputname">Last name </label>
                <input type="text" class="form-control" placeholder="Last name" name="lastname" required
                    pattern="[A-Za-z_]+" title="Name should only contain Letters e.g. Steve">
            </div>


            <div class="col-md-6">
                <label for="email">Email </label>
                <input type="email" class="form-control" placeholder="email" name="email" required
                    pattern="^([a-zA-Z0-9_\-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$"
                    title=" Enter an Valid Email Address e.g example@gmail.com">
            </div>


            <div class="col-md-6">
                <label for="password">Password </label>
                <input type="password" class="form-control" id="password" name="password" placeholder="Password"
                    pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,16}"
                    title="Must contain at least one number and one uppercase and lowercase letter, and contain atleast 8 to 16  characters"
                    required>
            </div>


            <div class="col-md-6">
                <label for="dateofbirth">Age</label>
                <input type="text" placeholder="Person Age eg 21" class="form-control" id="dateofbirth" name="dateofbirth" required pattern="^(1[89]|[2-9][0-9])$" title="User age should be Atleast 18">
            </div>


            <div class="col-md-6 mt-4 d-flex">
                <label for="gender mt-2">Gender:</label>

                <div class="mt-1  ms-2">
                    <input type="radio" name="gender" value="male" id="male" required>

                    <label for="male" class="radio-inline">Male</label>

                    <input type="radio" name="gender" value="female" id="female" required>
                    <label for="female" class="radio-inline">Female</label>

                    <input type="radio" name="gender" value="other" id="others" required>

                    <label for="others" class="radio-inline">Others</label>
                </div>

            </div>


            <div class="col-md-12 mt-2 text-center m-2">
                <button type="submit" class=" btn btn-primary">Register</button>


            </div>
            <div class="mt-1 text-center">
                <label class="form-label account"> Already have an Account? &nbsp;<a href="/user/login"
                        style="text-decoration:none;">Sign In</a></label>
            </div>

        </div>



    </form>

</div>


<script>
    $(document).ready(function () {
        $(".toast").toast('show');
    });

</script>




<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
    integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
    integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
    integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
    crossorigin="anonymous"></script>
</body>

</html>